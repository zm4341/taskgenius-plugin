/* 现代 Fluent 侧边栏配色和布局变量 */
.fluent-modern {
	--modern-background-secondary: var(--background-secondary);
	--modern-background-primary: var(--background-primary);
}
.theme-dark .fluent-modern {
	--modern-background-secondary: var(--background-secondary);
	--modern-background-primary: var(--background-primary);
}

/* —— Fluent 侧边栏及其内容区域 —— */
.fluent-modern {
	.tg-fluent-sidebar-container {
		background-color: var(--background-secondary);
		border-right: unset;
	}
	.fluent-sidebar-content {
		flex: 1;
		overflow-y: auto;
		padding: 8px 0 0 0;
		--icon-size: 16px;
	}

	/* 主内容布局 */
	.tg-fluent-layout {
		display: flex;
		height: 100%;
		width: 100%;
		overflow: hidden;
		/* padding: var(--size-4-2) 0; */
		/* gap: var(--size-4-2); */
		/* background: var(--modern-background-secondary); */
	}
	.tg-fluent-main-container {
		flex: 1;
		display: flex;
		flex-direction: column;
		overflow: hidden;
		/* gap: var(--size-4-2); */
	}

	/* 内容包裹 */
	.tg-fluent-content-wrapper {
		display: flex;
		flex-direction: column;
		height: 100%;
		overflow: hidden;
		border-radius: var(--radius-m);
	}
	.tg-fluent-content {
		flex: 1;
		overflow-y: auto;
		/* background: var(--modern-background-secondary); */
	}

	/* 搜索栏 */
	.fluent-search-container input[type="search"] {
		width: 100%;
		background-color: var(--background-primary-alt);
		height: var(--size-4-8);
		border: unset;
	}
	.search-input-container {
		width: 100%;
	}

	/* 列表和任务项样式 */
	.task-list {
		flex: 1;
		overflow-y: auto;
		padding: var(--size-4-2);
	}
	.task-list > .task-item {
		margin-bottom: var(--size-4-2);
	}
	.task-item {
		display: flex;
		align-items: flex-start;
		padding: 8px 16px;
		border-bottom: unset;
		cursor: pointer;
		gap: var(--size-2-3);
		min-height: 40px;
		border-radius: var(--radius-s);
	}
	.task-item,
	.task-item:hover {
		/* hover样式也合并简化 */
		gap: 0;
	}
	.task-item:hover {
		background-color: var(--background-secondary-alt);
	}
	.tree-task-item {
		position: relative;
		display: flex;
		flex-direction: column;
		padding: 8px 16px;
		transition: background-color 0.2s ease;
		border-radius: var(--radius-m);
		margin-bottom: var(--size-2-2);
	}

	/* 顶部导航条 */
	.fluent-top-navigation {
		display: flex;
		align-items: center;
		justify-content: space-between;
		height: 56px;
		padding: 0 20px;
		gap: 20px;
		background-color: var(--background-primary);
		border-radius: var(--radius-m);
		/* border-bottom: unset; */
		/* 其他可选边框/阴影已注释 */
	}

	.workspace-leaf-content[data-type^="fluent-task-genius-view"] .view-header {
		background-color: var(--modern-background-secondary);
		border-radius: var(--radius-m);
		height: var(--header-height);
		display: flex;
		z-index: 1;
		position: relative;
		gap: var(--size-4-2);
		padding: 0 var(--size-4-3);
	}
}

.is-mobile .fluent-modern {
	.workspace-leaf-content[data-type^="fluent-task-genius-view"] {
		/* padding: var(--size-4-2); */
		/* background: var(--modern-background-secondary); */
	}

	.workspace-leaf-content[data-type^="fluent-task-genius-view"] .view-header {
		height: var(--view-header-height);
	}

	.tg-fluent-sidebar-container.fluent-sidebar:not(.is-collapsed) {
		max-width: 300px;
	}
}

/* 任务详情侧栏（仅桌面端） */
:where(body:not(.is-mobile)) .fluent-modern {
	.task-details-container {
		width: 300px;
		flex-shrink: 0;
		/* background-color: var(--modern-background-secondary); */
		order: 1;
		padding: var(--size-4-2) 0 var(--size-4-2) var(--size-4-2);
		border-radius: var(--radius-m);
	}
	.task-details {
		height: 100%;
		overflow-y: auto;
		display: flex;
		flex-direction: column;
		transition: all 0.3s ease-in-out;
		position: relative;
		min-width: 250px;
		max-width: 400px;
		background-color: var(--background-primary);
		border-radius: var(--radius-m);
	}
}
